GPT 4.1 太懒了，不直接修改文件，而是给出修改后的代码片段。不愧是免费的。换成 Claude Sonnet 4，一下子就改好了。还是付费的服务更好。

Claude Sonnet 4：

itemWidth = (二级菜单栏总宽度 - 左间距 - 右间距 - 菜单项间距总和) / 菜单项数量

## 修改完成总结

✅ **已成功实现二级菜单项宽度自适应功能**：

### 核心实现逻辑：

1. **宽度计算公式**：
2. **关键技术实现**：
   - 使用 `getComputedStyle()` 获取容器的实际宽度和间距
   - 响应式计算每个菜单项的宽度
   - 通过 `:style="{ width: itemWidth }"` 动态设置宽度
3. **响应式更新**：
   - **窗口大小变化时**：监听 `resize` 事件重新计算
   - **菜单项数量变化时**：监听 `props.subMenus` 变化重新计算
   - **组件挂载时**：初始化计算宽度
4. **性能优化**：
   - 使用 `nextTick()` 确保DOM更新后再计算
   - 在组件卸载时清理事件监听器，避免内存泄漏

### 效果说明：

- **Studio菜单**：Dark 和 Light 两个子菜单项会平分整个菜单栏宽度
- **Office菜单**：Luxury 和 Small 两个子菜单项会平分整个菜单栏宽度
- **Workplace菜单**：Open Space 和 Person Desk 两个子菜单项会平分整个菜单栏宽度

现在每个二级菜单项都会自动调整宽度以最大化利用可用空间，无论是在不同屏幕尺寸下还是不同数量的菜单项之间，都能保持最佳的布局效果。